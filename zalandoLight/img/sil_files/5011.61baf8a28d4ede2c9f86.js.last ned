"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5011],{55011:(e,t,s)=>{s.d(t,{J:()=>Y});var r=s(65723),i=s(17289),a=s(30397),l=s(85540),n=s(87849),o=s(4055),F=s(59790),c=s(77956),d=s(21239),f=s(75937),h=s(93623),b=s(10195),j=s(63471),p=s(50556),u=s(59331),g=s(33428),S=s(47286),m=s(27614);let x=({notifier$:e,footerRefOption$:t})=>s=>{let r=(0,l.Fs)(s,m.Tj(([e,t,s,r])=>({disableInfiniteScroll:e,feedDataFetcherParams:t,intersectionObserverRoot:s,intersectionObserverRootMarginBottom:r}))),i=(0,l.Fs)(r,m.x1(({intersectionObserverRoot:e})=>e),m.F()),a=(0,l.Fs)(r,m.Tj(({intersectionObserverRootMarginBottom:e})=>e??2e3),m.F()),n=(0,l.Fs)(r,m.Tj(({feedDataFetcherParams:e})=>e.page),m.F()),o=(0,l.Fs)(m.zV([t,i,a,n]),m.nx(([e,t,s])=>(0,l.Fs)(e,d.YW((0,p.dY)(m.wg),e=>(0,l.Fs)(f.sH(e,{...void 0!==t?{root:t}:null,rootMargin:f.x({top:h.Sj,right:h.Sj,bottom:h.qy(s),left:h.Sj})}),m.pb(f.uV)))))),F=(0,l.Fs)(r,m.Tj(e=>e.disableInfiniteScroll),m.F());return(0,l.Fs)(r,m.XM(m.h1((0,l.Fs)(m.zV([o,F]),m.pb(([e,t])=>!1===t)),e)))},M=e=>t=>{let s=(0,l.Fs)(t,m.Tj(([e,t,s,r])=>({hasFetchedAllPages:e,feedDataFetcherParams:t,feedDataFetcher:s,dependencies:r}))),r=(0,l.Fs)(s,m.XM(e),m.dM(({feedDataFetcherParams:e})=>e.page),m.Or(({hasFetchedAllPages:e})=>!1===e));return(0,l.Fs)(r,m.EY(s,(e,t)=>t),m.ZZ(({feedDataFetcherParams:e,feedDataFetcher:t,dependencies:s})=>(0,l.Fs)(t(e),S.Bb(s),g.L5(3))))},O=e=>{let t=(0,j.h6)(),s=(0,u.J)(x({notifier$:e.notifier$,footerRefOption$:e.footerRefOption$}),[e.disableInfiniteScroll,e.feedDataFetcherParams,e.intersectionObserverRoot,e.intersectionObserverRootMarginBottom]),r=[e.hasFetchedAllPages,e.feedDataFetcherParams,e.feedDataFetcher,t],i=(0,u.J)(M(s),r);(0,b.so)(i)},P=({total:e,perPage:t})=>Math.ceil(e/t),T=e=>e.lastPageFetched>=P(e),I=({lastPageFetched:e,perPage:t})=>({page:e+1,perPage:t}),V=({feedState:e,feedItems:t,renderItems:s,renderLoadingFooter:n,disableInfiniteScroll:F,...d})=>{let[f,h]=(0,i.z)(e=>(0,l.Fs)(e,c.rT)),b=a.Krr(()=>I(e),[e]),j=a.Krr(()=>T(e),[e]);return O({...d,disableInfiniteScroll:F,feedDataFetcherParams:b,hasFetchedAllPages:j,footerRefOption$:h}),(0,r.jsxs)(a.iau,{children:[s({items:t,total:e.total}),(0,r.jsx)(a.iau,{"data-testid":o.n,ref:f}),!1===j&&!1===F&&(e.isLoading??!0)&&n()]})},Y=({feedStateOption:e,feedItemsOption:t,renderEmpty:s,renderPlaceholder:i,renderFooter:o,disableInfiniteScroll:c,...f})=>(0,l.Fs)(d.CO(e,t),d.YW(i,([e,t])=>{let i=T(e),h=i||c||n.VP(t);return(0,r.jsxs)(a.Ut5,{children:[(0,l.Fs)(t,F.ci,d.YW(s,t=>(0,r.jsx)(V,{...f,feedState:e,feedItems:t,disableInfiniteScroll:c}))),h&&o({isEmpty:n.VP(t),hasFetchedAllPages:i,isInfiniteScrollDisabled:c})]})}))}}]);