"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6441],{47688:(e,a,d)=>{d.d(a,{GL:()=>g,Gk:()=>X,L1:()=>H,Xg:()=>A,q4:()=>C});var r=d(10105),s=d(57374),n=d(97692),t=d(34776),o=d(38903),c=d(50556),i=d(87849),l=d(85540),h=d(37934),p=d(33907),m=d(62952),F=d(2712),T=d(30572),k=d(325),I=d(92127),j=d(59790),u=d(33428),v=d(21239),S=d(73036),q=d(32218),f=d(7457),U=d(99840),b=d(8780);let y=o.Z.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),C=e=>{switch(e){case"development":return o.Z.matchX({HomepageHeader:(0,c.dY)(307171),SayThanksCardMobile:(0,c.dY)(237077),SayThanksCardTabletUp:(0,c.dY)(237076),TopicsInFeed:t.Uq({Phone:257457,[b._]:237186}),ExploreInFeed:t.Uq({Phone:257456,[b._]:247889}),SearchInFeed:t.Uq({Phone:257455,[b._]:241347})});case"production":return o.Z.matchX({HomepageHeader:(0,c.dY)(307172),SayThanksCardMobile:(0,c.dY)(219423),SayThanksCardTabletUp:(0,c.dY)(219424),TopicsInFeed:t.Uq({Phone:257453,[b._]:237209}),ExploreInFeed:t.Uq({Phone:257454,[b._]:247890}),SearchInFeed:t.Uq({Phone:257452,[b._]:241348})})}},E=({adEnv:e,adType:a,count:d,zoneId:r})=>({divName:y(a),zoneIds:i.of(r),count:d,networkId:(0,s.Pq)(e),siteId:(0,s.gE)(e),adTypes:i.of(5),properties:{}}),Y=e=>S.D9(a=>(0,l.Fs)(k.of(n.Um),k.ap((0,l.Fs)(e,E,i.of,k.of)),k.ap(k.L9((0,r.b)(a.shouldUseSecureCookies))),S.L9)),g=({adEnv:e,adType:a,count:d,zoneId:r})=>(0,l.Fs)(Y({adEnv:e,adType:a,count:d,zoneId:r}),q.lr,q.bK(e=>(0,l.Fs)(u.QP(n.YK)(s.H6,{method:"POST",headers:{[F.U2]:m.cM.Json},body:n.n_.encode(e)}),q.rR)),f.KR,f.mr,f.Tj(e=>(0,l.Fs)(e.decisions,T.$I(y(a)),v.qI(v.k$),v.Tj(i.Tj(e=>o.Ad.fromKevelAd({ad:i.v4(e.contents),decision:e})))))),_=e=>i.qI(a=>(0,l.Fs)(a,i.gR(e),h.YW({onTrue:()=>(0,l.Fs)(a,p.ku(a=>n.X6.equals(a,e))),onFalse:(0,c.dY)([])}))),A=(e,a)=>(0,l.L3)(i.pb((0,l.L3)(e=>_(e.metadata.advertiserId)(a),i.YW({onEmpty:c.ue,onNonEmpty:(0,l.L3)(i.zN(a=>(0,l.Fs)(e,I.Dc(n.X6)(a))),h.AU)}))),j.ci,v.Tj(j.Gh)),X=U.Tj(v.qI(e=>(0,l.Fs)(e.template,n.Bj.match({"in-feed":a=>v.zN(o.Ad.mkInFeedAd({...e,template:a})),[b._]:(0,c.dY)(v.dv)})))),x=n.Bj.matchX({"kitchen-sink":!0,[b._]:!1}),L=n.Bj.matchX({"in-feed":!0,[b._]:!1}),H=o.Z.matchX({SayThanksCardMobile:x,SayThanksCardTabletUp:x,TopicsInFeed:L,HomepageHeader:(0,c.dY)(!0),ExploreInFeed:L,SearchInFeed:L})},76211:(e,a,d)=>{d.d(a,{mc:()=>K,$9:()=>Z,no:()=>P});var r=d(65723),s=d(39033),n=d(2553),t=d(31297),o=d(45208),c=d(35653),i=d(17536),l=d(8547),h=d(97692),p=d(81470),m=d(92777);let F=(0,d(66383).Mz)(e=>e.directAds,e=>e.renderedAdsByAdvertiser);var T=d(34776),k=d(38903),I=d(4730),j=d(30397),u=d(85540),v=d(87849),S=d(83492),q=d(50556),f=d(33907),U=d(59331),b=d(38437),y=d(59790),C=d(33428),E=d(77956),Y=d(21239),g=d(47286),_=d(73036),A=d(99840),X=d(5540),x=d(27614),L=d(47688);let H=e=>{switch(e){case"development":return[[h.SS(2260292),h.SS(2260293)]];case"production":return[[h.SS(2262847),h.SS(1890533)]]}},w=b.z3(e=>["InvalidTemplatesError",{invalidAds:(0,u.Fs)(e,v.Tj(e=>({invalidTemplate:h.gY(e.template),flightId:e.metadata.flightId,creativeId:e.metadata.creativeId})))}]),P=({adType:e,count:a})=>{let d=(0,l.d)(F),r=(0,U.J)(e=>(0,u.Fs)(e,x.Tj(([e])=>e)),[d]),s=(0,p.r)(),n=(0,m.Y0)();return(0,U.J)(e=>{let d=(0,u.Fs)(e,x.Tj(e=>e[0]),x.F(k.Z.Eq.equals)),n=(0,u.Fs)(e,x.Tj(e=>e[1]),x.F(Y.nZ(T.Eq).equals)),t=(0,u.Fs)(E.CO((0,u.Fs)(d,E.K_),n),E.Tj(([e,a])=>(0,L.q4)(s.adEnv)(e)(a)),x.F(Y.nZ(X.Eq).equals));return(0,u.Fs)(E.CO((0,u.Fs)(d,E.K_),t),x.EY(r),x.Tj(([e,a])=>(0,u.Fs)(e,Y.Tj(([e,d])=>S.L8(e,d,a)))),E.HZ(([e,d,r])=>(0,u.Fs)(x.v6(()=>(0,u.Fs)((0,L.GL)({adEnv:s.adEnv,adType:e,count:3*a,zoneId:d}),g.Bb(s))),x.Mi((0,u.L3)(A.v6((0,q.dY)(_.IX),I.V0(C.aM),a=>(0,u.Fs)(a,Y.qI((0,u.L3)(f.ku(a=>(0,u.Fs)(a.template,(0,L.L1)(e))),y.ci,Y.Tj(I.V0(w)))),Y.ak(()=>_.IX))),I.Fe("KevelError"),I.eQ({directAdType:k.Z.Show.show(e)}),_.Gt(I.Sn),_.g7)),x.Tj(A.Tj(Y.qI((0,L.Xg)(r,H(s.adEnv))))))),x.Tj(Y.ak(()=>A.Vh)))},[e,n])},Z=({adType:e,count:a,children:d})=>d((0,i.m)(P({adType:e,count:a}))),M=({metadata:e})=>(0,r.jsxs)(j.Ut5,{children:[(0,r.jsx)(t.j,{url:e.impressionUrl}),(0,u.Fs)(e.impressionTrackers,Y.f3(v.Tj((e,a)=>(0,r.jsx)(t.j,{url:e},a))))]}),K=({children:e,metadata:a,adType:d})=>{let t=(0,o.w)();return(0,c.J)(()=>{t(s.rc.mk.DirectAdImpression({metadata:a,adType:d}))}),(0,r.jsxs)(j.Ut5,{children:[e,(0,r.jsx)(n.A,{children:(0,r.jsx)(M,{metadata:a})})]})}},64315:(e,a,d)=>{d.d(a,{X:()=>i});var r=d(65723),s=d(39033),n=d(13975),t=d(45208),o=d(30397),c=d(32127);let i=({metadata:e,adType:a,...d})=>{let i=(0,t.w)(),l=o.hbB(()=>{i(s.rc.mk.Track(c.Jh.mk.DirectAdClick({metadata:e,adType:a})))},[e,a]);return(0,r.jsx)(n.p,{onClick:l,href:e.clickUrl,...d})}},17536:(e,a,d)=>{d.d(a,{m:()=>n});var r=d(23819),s=d(99840);let n=e=>(0,r.C)(e,s.Vh)},12117:(e,a,d)=>{d.d(a,{v:()=>i});var r=d(45152),s=d(91056),n=d(85540),t=d(325),o=d(21239);let c=(0,n.Fs)(s.ue,t.g7,o.t2(e=>"force_direct_ads"in e)),i=()=>(0,r.cC)()&&c}}]);